%script{:src => "//maps.google.com/maps/api/js?v=3.23&key=AIzaSyCHo7P-uEfAEioZyTEw51cjJxfGlQf5tiM"}
%script{:src => "//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"}
%script{:src => "//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js", :type => "text/javascript"}


.well.well-small
  .pull-right{ :'data-position' => 'bottom', :'data-intro' => 'Reset the filter settings to defaults.' }
    = link_to "Reset filters", reset_filterrific_url, :class => 'button'
  .chardin_box{ :'data-position' => 'bottom', :'data-intro' => "will_paginate's entries info works as expected." }
    = page_entries_info appointments, :model => 'appointment'
  .chardin_box{ :'data-position' => 'bottom', :'data-intro' => 'Spinner indicates update.' }
-#    = render_filterrific_spinner




#appointment_index
  .row
    %img.img-responsive
      #map{:style => "width: 100%; height: 400px;"} 

  .row 
  - if user_signed_in? && !Vendor.exists?(user_id: current_user)  
    .col-sm-6.col-sm-offset-3
      %h4= link_to "Interested In offering services on PamperedUp?", new_vendor_path
    %br
    %br  

  .wrapper
    .row
      #appointments.transitions-enabled
        - unless @appointments.blank?
          - @appointments.each_with_index do |appointment, i|
            %a{ href: (url_for [appointment])}
              .box.panel.panel-default
                .panel-heading
                  %h2= appointment.title
                .panel-body
                  %img.img-responsive.img-rounded{alt: "Profile Avatar", src: appointment.vendor.avatar.url(:medium)}
                  %h3= appointment.vendor.name


                  
                .panel-footer
                  %h3= number_to_currency((appointment.amount.cost), unit:"$")

        - else 
          %h2 Sorry...
          %h3 We dont have any offers in your area. Please contact us to request we add providers in your area.
          %br
          %p= mail_to "seth@pamperedup.com", "Contact", subject: "Pampered Contact Request", class: "button"



.chardin_box{ :'data-position' => 'top', :'data-intro' => "will_paginate's paginator works as expected." }
  = will_paginate appointments, renderer: BootstrapPagination::Rails 